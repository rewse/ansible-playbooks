---
- name: "package : Install packages by homebrew"
  community.general.homebrew:
    name: 
      - vips
    update_homebrew: true
  tags:
    - darwin
    - darwin_personal
    - install
    - package
    - darwin_package
    - darwin_package_install

- name: "xurl : Add homebrew tap for xurl"
  community.general.homebrew_tap:
    name: xdevplatform/tap
  tags:
    - darwin
    - darwin_personal
    - install
    - xurl
    - darwin_xurl
    - darwin_xurl_install

- name: "package : Install packages by homebrew_cask"
  community.general.homebrew_cask:
    name: 
      - charles
      - deepl
      - epic-games
      - gog-galaxy
      - kiro
      - kiro-cli
      - origin
      - microsoft-office
      - raspberry-pi-imager
      - sony-ps-remote-play
      - steam
      - steelseries-gg
      - ticktick
      - xurl
    update_homebrew: true
  tags:
    - darwin
    - darwin_personal
    - install
    - package
    - darwin_package
    - darwin_package_install

- name: "claude: Install Claude Code"
  ansible.builtin.shell: curl -fsSL https://claude.ai/install.sh | bash
  args:
    creates: ~/.local/bin/claude
  tags:
    - darwin
    - install
    - claude
    - darwin_claude
    - darwin_claude_install

- name: "xurl : Configure X API authentication"
  ansible.builtin.command:
    cmd: >
      xurl auth apps add kiro-rewse
      --client-id "{{ lookup('pipe', 'op read op://ansible/X/username') }}"
      --client-secret "{{ lookup('pipe', 'op read op://ansible/X/credential') }}"
    creates: ~/.xurl
  tags:
    - darwin
    - darwin_personal
    - config
    - xurl
    - darwin_xurl
    - darwin_xurl_config

# - name: "package : Install rest of the apps"
#   install_yourself:
#     - https://adblink.me/download/                                  # adbLink
#     - https://www.houdah.com/houdahGPS/download.html                # HoudahGPS
#     - https://www.benq.com/ja-jp/support/downloads-faq/products/monitor/sw271/software-driver.html # Palette Master Element
#     - http://www2.securebrain.co.jp/products/phishwall/smbc_direct.html # PhishWall
